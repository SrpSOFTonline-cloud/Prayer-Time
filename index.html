<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Islamic Prayer App</title>

<style>

body{
margin:0;
font-family:Segoe UI;
background:url("https://i.imgur.com/Z6a9Q7P.png");
background-size:cover;
transition:.3s;
}

.dark{
background:#020617;
color:white;
}

/* Header */
.header{
text-align:center;
padding:18px;
font-size:22px;
font-weight:bold;
background:linear-gradient(45deg,#22c55e,#0ea5e9);
color:white;
}

/* Card */
.card{
background:white;
margin:12px;
padding:15px;
border-radius:15px;
}

.dark .card{
background:#1e293b;
}

/* Prayer Row */
.prayer-row{
display:flex;
overflow:auto;
}

.prayer{
min-width:110px;
background:#e2e8f0;
margin:6px;
border-radius:10px;
padding:15px;
text-align:center;
}

.active{
background:#22c55e;
color:white;
}

/* Bottom Nav */
.bottom-nav{
position:fixed;
bottom:0;
width:100%;
background:white;
display:flex;
justify-content:space-around;
padding:10px;
}

.dark .bottom-nav{
background:#1e293b;
}

button{
padding:10px;
border:none;
border-radius:8px;
cursor:pointer;
}

.hidden{display:none}

</style>
</head>

<body>

<div class="header">
ðŸ•Œ Islamic Prayer App
<p id="dateText"></p>
<p id="localTime"></p>
<button onclick="toggleMode()" id="modeBtn">ðŸŒ™</button>
</div>

<!-- HOME -->
<div id="homePage">

<div class="card">
<h3 id="nextName"></h3>
<h1 id="remaining"></h1>
</div>

<div class="card prayer-row">

<div class="prayer" id="pFajr"><p id="fajrTime"></p>Fajr</div>
<div class="prayer" id="pDhuhr"><p id="dhuhrTime"></p>Dhuhr</div>
<div class="prayer" id="pAsr"><p id="asrTime"></p>Asr</div>
<div class="prayer" id="pMaghrib"><p id="maghribTime"></p>Maghrib</div>
<div class="prayer" id="pIsha"><p id="ishaTime"></p>Isha</div>

</div>

</div>

<!-- TASBIH -->
<div id="tasbihPage" class="hidden">
<div class="card">
<h2>Tasbih Counter</h2>
<h1 id="tasbihCount">0</h1>
<button onclick="tasbih++">âž•</button>
<button onclick="tasbih=0">Reset</button>
</div>
</div>

<!-- RAMADAN -->
<div id="ramadanPage" class="hidden">
<div class="card">
<h3>Ramadan Calendar 2026</h3>
<div id="ramadanList"></div>
</div>
</div>

<!-- NAV -->
<div class="bottom-nav">
<button onclick="showPage('home')">Home</button>
<button onclick="showPage('tasbih')">Tasbih</button>
<button onclick="showPage('ramadan')">Ramadan</button>
</div>

<script>

/* PAGE */
function showPage(p){
["homePage","tasbihPage","ramadanPage"]
.forEach(id=>document.getElementById(id).classList.add("hidden"));

document.getElementById(p+"Page").classList.remove("hidden");
}

/* DARK MODE TOGGLE */
function toggleMode(){
document.body.classList.toggle("dark");
modeBtn.innerText=
document.body.classList.contains("dark")?"â˜€ï¸":"ðŸŒ™";
}

/* LOCAL TIME */
setInterval(()=>{
localTime.innerText=
"Local Time: "+new Date().toLocaleTimeString();
},1000);

/* AUTO GPS */
function getLocation(){
navigator.geolocation.getCurrentPosition(pos=>{
loadPrayer(pos.coords.latitude,pos.coords.longitude);
});
}

/* LOAD PRAYER */
async function loadPrayer(lat=23.8103,lon=90.4125){

let res=await fetch(
`https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${lon}&method=1`
);

let data=await res.json();
let t=data.data.timings;

fajrTime.innerText=t.Fajr;
dhuhrTime.innerText=t.Dhuhr;
asrTime.innerText=t.Asr;
maghribTime.innerText=t.Maghrib;
ishaTime.innerText=t.Isha;

dateText.innerText=
"Hijri: "+data.data.date.hijri.date+
" | English: "+data.data.date.gregorian.date;

startCountdown(t);
}

/* COUNTDOWN */
function startCountdown(t){

let list=[
{name:"Fajr",time:t.Fajr,id:"pFajr"},
{name:"Dhuhr",time:t.Dhuhr,id:"pDhuhr"},
{name:"Asr",time:t.Asr,id:"pAsr"},
{name:"Maghrib",time:t.Maghrib,id:"pMaghrib"},
{name:"Isha",time:t.Isha,id:"pIsha"}
];

setInterval(()=>{

let now=new Date();
let next=null;

for(let p of list){
let [h,m]=p.time.split(":");
let pt=new Date();
pt.setHours(h,m,0);

if(pt>now){
next={...p,pt};
break;
}
}

if(!next){
let [h,m]=list[0].time.split(":");
let pt=new Date();
pt.setDate(pt.getDate()+1);
pt.setHours(h,m,0);
next={...list[0],pt};
}

let diff=next.pt-now;

remaining.innerText=
Math.floor(diff/3600000)+":"+
Math.floor(diff/60000)%60+":"+
Math.floor(diff/1000)%60;

nextName.innerText="Next Prayer: "+next.name;

document.querySelectorAll(".prayer")
.forEach(e=>e.classList.remove("active"));

document.getElementById(next.id).classList.add("active");

},1000);

}

/* NOTIFICATION */
function notifyPrayer(name){
if(Notification.permission==="granted"){
new Notification(name+" Prayer Time");
}
}

Notification.requestPermission();

/* TASBIH */
let tasbih=0;
setInterval(()=>{
tasbihCount.innerText=tasbih;
},300);

/* RAMADAN DEMO LIST */
let ram="";
for(let i=1;i<=30;i++){
ram+=`Day ${i} - Sehri 4:45 AM | Iftar 6:05 PM<br>`;
}
ramadanList.innerHTML=ram;

/* LANGUAGE SWITCH */
let lang="en";

function switchLang(){
lang=lang==="en"?"bn":"en";
alert("Demo Language Switch");
}

getLocation();

</script>

</body>
</html>
