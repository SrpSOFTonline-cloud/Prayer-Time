<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bangladesh Prayer Time App</title>

<style>

body{
margin:0;
font-family:Segoe UI;
background:#f3f4f6;
transition:.3s;
}

.dark{
background:#0f172a;
color:white;
}

.header{
text-align:center;
padding:15px;
font-size:22px;
font-weight:bold;
background:#e5e7eb;
}

.dark .header{
background:#1e293b;
}

/* Card */
.card{
background:white;
margin:12px;
padding:15px;
border-radius:12px;
}

.dark .card{
background:#1e293b;
}

/* Prayer Row */
.prayer-row{
display:flex;
overflow:auto;
}

.prayer{
min-width:120px;
background:#e5e7eb;
margin:6px;
border-radius:10px;
padding:15px;
text-align:center;
}

.active{
background:#cde4b7;
font-weight:bold;
}

/* Bottom Nav */
.bottom-nav{
position:fixed;
bottom:0;
width:100%;
background:white;
display:flex;
justify-content:space-around;
padding:12px;
}

.dark .bottom-nav{
background:#1e293b;
}

button{
padding:10px;
border:none;
border-radius:8px;
margin:5px;
cursor:pointer;
}

.hidden{display:none}

</style>
</head>

<body>

<div class="header">
ðŸ•Œ Bangladesh Prayer App
<p id="dateText"></p>
<p id="localTime"></p>
</div>

<!-- HOME -->
<div id="homePage">

<div class="card">
<h3 id="nextName"></h3>
<h1 id="remaining"></h1>
</div>

<div class="card prayer-row">

<div class="prayer" id="pFajr">
<p id="fajrTime"></p>Fajr
</div>

<div class="prayer" id="pDhuhr">
<p id="dhuhrTime"></p>Dhuhr
</div>

<div class="prayer" id="pAsr">
<p id="asrTime"></p>Asr
</div>

<div class="prayer" id="pMaghrib">
<p id="maghribTime"></p>Maghrib
</div>

<div class="prayer" id="pIsha">
<p id="ishaTime"></p>Isha
</div>

</div>

</div>

<!-- RAMADAN -->
<div id="ramadanPage" class="hidden">
<div class="card">
<h3>Ramadan Timetable 2026</h3>
<p>Sehri Ends: 4:45 AM</p>
<p>Iftar: 6:05 PM</p>
</div>
</div>

<!-- ZAKAT -->
<div id="zakatPage" class="hidden">
<div class="card">
<h3>Zakat Calculator</h3>

<input id="moneyInput" placeholder="Money" type="number"><br><br>
<input id="goldInput" placeholder="Gold Value" type="number"><br><br>

<button onclick="calcZakat()">Calculate</button>
<h3 id="zakatResult"></h3>

</div>
</div>

<!-- SETTINGS -->
<div id="settingsPage" class="hidden">
<div class="card">
<h3>Mode</h3>
<button onclick="toggleMode()">Dark / Light</button>
</div>

<div class="card">
<h3>Developer</h3>
<p>Shovon</p>
<p>01843860547</p>
<p>srp-soft.ltd</p>
</div>
</div>

<!-- NAV -->
<div class="bottom-nav">
<button onclick="showPage('home')">Home</button>
<button onclick="showPage('ramadan')">Ramadan</button>
<button onclick="showPage('zakat')">Zakat</button>
<button onclick="showPage('settings')">Settings</button>
</div>

<script>

/* Page Switch */
function showPage(p){
["homePage","ramadanPage","zakatPage","settingsPage"]
.forEach(id=>document.getElementById(id).classList.add("hidden"));

document.getElementById(p+"Page").classList.remove("hidden");
}

/* Mode */
function toggleMode(){
document.body.classList.toggle("dark");
}

/* Local Time */
setInterval(()=>{
document.getElementById("localTime").innerText=
"Local Time: "+new Date().toLocaleTimeString();
},1000);

/* Bangla Date */
function banglaDate(){
return new Date().toLocaleDateString("bn-BD",
{year:"numeric",month:"long",day:"numeric"});
}

/* Convert Prayer Time */
function prayerDate(time){
let [h,m]=time.split(":");
let d=new Date();
d.setHours(parseInt(h),parseInt(m),0,0);
return d;
}

/* Load Prayer */
async function loadPrayer(){

let res=await fetch(
"https://api.aladhan.com/v1/timingsByCity?city=Dhaka&country=Bangladesh&method=1"
);

let data=await res.json();
let t=data.data.timings;

fajrTime.innerText=t.Fajr;
dhuhrTime.innerText=t.Dhuhr;
asrTime.innerText=t.Asr;
maghribTime.innerText=t.Maghrib;
ishaTime.innerText=t.Isha;

dateText.innerText=
"Hijri: "+data.data.date.hijri.date+
" | English: "+data.data.date.gregorian.date+
" | à¦¬à¦¾à¦‚à¦²à¦¾: "+banglaDate();

startCountdown(t);
}

/* Countdown */
function startCountdown(t){

let list=[
{name:"Fajr",time:t.Fajr,id:"pFajr"},
{name:"Dhuhr",time:t.Dhuhr,id:"pDhuhr"},
{name:"Asr",time:t.Asr,id:"pAsr"},
{name:"Maghrib",time:t.Maghrib,id:"pMaghrib"},
{name:"Isha",time:t.Isha,id:"pIsha"}
];

setInterval(()=>{

let now=new Date();
let next=null;

for(let p of list){
let pt=prayerDate(p.time);
if(pt>now){ next={...p,pt}; break; }
}

/* à¦¯à¦¦à¦¿ à¦¸à¦¬ à¦¨à¦¾à¦®à¦¾à¦œ à¦¶à§‡à¦· à¦¹à§Ÿ à¦¤à¦¾à¦¹à¦²à§‡ à¦•à¦¾à¦²à¦•à§‡à¦° à¦«à¦œà¦° */
if(!next){
next={...list[0],pt:prayerDate(list[0].time)};
next.pt.setDate(next.pt.getDate()+1);
}

let diff=next.pt-now;

let hh=Math.floor(diff/3600000);
let mm=Math.floor(diff/60000)%60;
let ss=Math.floor(diff/1000)%60;

remaining.innerText=
String(hh).padStart(2,'0')+":"+
String(mm).padStart(2,'0')+":"+
String(ss).padStart(2,'0');

nextName.innerText="Next Prayer: "+next.name;

document.querySelectorAll(".prayer")
.forEach(e=>e.classList.remove("active"));

document.getElementById(next.id)
.classList.add("active");

},1000);

}

/* Zakat */
function calcZakat(){

let money=parseFloat(
document.getElementById("moneyInput").value)||0;

let gold=parseFloat(
document.getElementById("goldInput").value)||0;

let zakat=(money+gold)*0.025;

zakatResult.innerText=
"Zakat = "+zakat.toFixed(2)+" à§³";
}

loadPrayer();

</script>

</body>
</html>

